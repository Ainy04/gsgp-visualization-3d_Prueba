<!--
  /*<one line to give the program's name and a brief idea of what it does.>
    Copyright (C) 2020 Diana Sarai Hernandez Fierro, Jose Manuel Muñoz Contreras, Leonardo Trujillo

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

     This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <title>Plot Best Value from Each Generation</title>

  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-1.58.5.min.js"></script>
  <!-- Tailwindcss -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- KaTeX -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/contrib/auto-render.min.js" 
    onload="renderMathInElement(document.body);"></script>
</head>
<body id="bg-body" class="min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8">

  <!-- Welcome Card -->
  <div class="relative z-20 bg-[#073556] bg-opacity-95 rounded-3xl shadow-2xl"
       style="width: min(72.9vw, 700px); height: min(68.5vh, 370px);">
    
    <div class="h-full flex flex-col items-center justify-center p-8 lg:p-12 text-center">
      <h1 class="text-white text-5xl sm:text-6xl lg:text-7xl font-bold mb-6 tracking-wide">
        WELCOME!
      </h1>
      
      <p class="text-slate-300 text-base sm:text-lg lg:text-xl mb-8 leading-relaxed max-w-lg">
        Use the animation system to visualize the machine learning process of your algorithm.
      </p>
      
      <div class="flex flex-col items-center space-y-4 w-full max-w-sm">
        <button id="btnInstructions" class="bg-[#072C46] hover:bg-[#244D6A] hover:border-[#98CFF7] hover:scale-105 text-white font-bold py-3 px-6 rounded-sm transition-all duration-200 text-base tracking-widest border-4 border-[#083453] shadow-xl w-auto">
          INSTRUCTIONS
        </button>

        <button id="startButton" class="bg-[#072C46] hover:bg-[#244D6A] hover:border-[#98CFF7] hover:scale-105 text-white font-bold py-3 px-6 rounded-sm transition-all duration-200 text-base tracking-widest border-4 border-[#083453] shadow-xl w-auto">
          START
        </button>
      </div>
    </div>
  </div>

    <!-- Modal dentro de la card -->
  <div id="modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 pointer-events-none transition-all duration-300 z-50">
    <!-- Modal Card -->
    <div class="bg-[#052942] rounded-2xl shadow-2xl p-6 max-w-md w-full transform scale-95 transition-all duration-300">
      <button id="closeModal" class="absolute top-3 right-3 text-white text-2xl font-bold hover:text-gray-200">×</button>
      <h2 class="text-white text-4xl font-bold mb-4">Instructions for use</h2>
      <div class="bg-[#153E5B] bg-opacity-60 p-4 rounded-lg text-left text-slate-200">
        <ul class="list-disc list-inside space-y-2">
          <li>Before using any system functions, make sure to upload your CSV file.</li>
          <li>Use the menu to customize the appearance of the graph.</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
  // Redirigir Botón Start
  document.getElementById('startButton').addEventListener('click', function() {
    window.location.href = "{{ url_for('visualization') }}";
  });

  // Elementos del modal
  const btn = document.getElementById("btnInstructions");
  const modal = document.getElementById("modal");
  const close = document.getElementById("closeModal");

  // Abrir modal con animación
  btn.addEventListener("click", () => {
    modal.classList.remove("opacity-0", "pointer-events-none"); // Hacer el modal visible
    modal.querySelector('div').classList.remove("scale-95"); // Escalar el contenido del modal
    modal.classList.add("opacity-100"); 
    modal.querySelector('div').classList.add("scale-100");
  });

  // Cerrar modal con animación
  const closeModal = () => {
    modal.classList.add("opacity-0", "pointer-events-none"); // Hacer el modal invisible
    modal.classList.remove("opacity-100"); 
    modal.querySelector('div').classList.add("scale-95");
    modal.querySelector('div').classList.remove("scale-100");
  }

  close.addEventListener("click", closeModal); // Cerrar al hacer clic en el botón de cerrar
  modal.addEventListener("click", e => { if(e.target === modal) closeModal(); }); // Cerrar al hacer clic fuera del contenido del modal
  </script>

</body>
</html>